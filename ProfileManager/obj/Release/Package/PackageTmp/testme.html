<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Test Me</title>
    <link type="text/css" rel="stylesheet" href="Content/stie.css" />
    
</head>
<body>
    Test me 
    
    <div id="demo" class="mainTest">dfsddf sadf dsafdasfvsdaf <br/><p>jdsakfjkldajfklsjdfkljl</p></div>
    <script src="Scripts/modernizr-2.6.2.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script language="javascript">
        var x1 = null, y1 = null;
        
        function createLine(x1, y1, x2, y2) {
            var length = Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));
            var angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;
            var transform = 'rotate(' + angle + 'deg)';

            var line = $('<div>')
                .appendTo('#demo')
                .addClass('line')
                .css({
                    'position': 'absolute',
                    '-webkit-transform': transform,
                    '-moz-transform': transform,
                    'transform': transform
                })
                .width(length)
                .offset({ left: x1, top: y1 });

            return line;
        }

        $(document).ready(function() {
            $('#demo').click(function(event) {
                var x = event.pageX,
                    y = event.pageY;

                if (x1 == null) {
                    x1 = x; y1 = y;
                } else {
                    createLine(x1, y1, x, y);
                    x1 = y1 = null;
                }
            });
        });
    </script>
</body>
</html>
